---

name: ARK Resolver Tests

on: [pull_request]

jobs:
  ark-resolver-tests:
    name: ARK Resolver Tests
    runs-on: ubuntu-latest
    steps:
      - name: Checkout source
        uses: actions/checkout@v3
        with:
          fetch-depth: 1
      - name: Disk Free
        run: |
          df -h
          docker system df
          docker system prune --all --force --volumes
          df -h
      - name: Run ARK resolver unit tests
        run: make test
      - name: Disk Free After
        run: |
          df -h
          docker system df
